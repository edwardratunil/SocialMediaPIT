{"ast":null,"code":"var _jsxFileName = \"D:\\\\USTP\\\\2nd Year\\\\2ndSem\\\\Web Systems and Technolgies\\\\Activity\\\\react-js\\\\components-with-routes\\\\src\\\\components\\\\shared\\\\Sidebar.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport classNames from 'classnames';\nimport React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { DASHBOARD_SIDEBAR_LINKS } from '../../lib/consts/navigation';\nimport { DASHBOARD_SIDEBAR_BOTTOM_LINKS } from '../../lib/consts/navigation';\nimport { HiOutlineLogout } from 'react-icons/hi';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst linkClasses = 'flex items-center gap-2 font-light px-3 py-2 hover:bg-cyan-300 hover:no-underline active:bg-cyan-500 rounded-sm text-base';\nexport default function Sidebar() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [editing, setEditing] = useState(false);\n  const [currentUserId, setCurrentUserId] = useState(null);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('http://localhost/my-backend/api.php');\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (editing) {\n      await handleUpdateUser();\n    } else {\n      await handleCreateUser();\n    }\n    fetchUsers();\n  };\n  const handleCreateUser = async () => {\n    try {\n      const response = await axios.post('http://localhost/my-backend/api.php', {\n        username,\n        password\n      });\n      setMessage(response.data.message);\n    } catch (error) {\n      setMessage('There was an error saving the user.');\n      console.error('There was an error making the request!', error);\n    }\n  };\n  const handleUpdateUser = async () => {\n    try {\n      const response = await axios.put('http://localhost/my-backend/api.php', {\n        id: currentUserId,\n        username,\n        password\n      });\n      setMessage(response.data.message);\n      setEditing(false);\n      setCurrentUserId(null);\n    } catch (error) {\n      setMessage('There was an error updating the user.');\n      console.error('There was an error making the request!', error);\n    }\n  };\n  const handleDeleteUser = async id => {\n    try {\n      const response = await axios.delete('http://localhost/my-backend/api.php', {\n        data: {\n          id\n        }\n      });\n      setMessage(response.data.message);\n      fetchUsers();\n    } catch (error) {\n      setMessage('There was an error deleting the user.');\n      console.error('There was an error making the request!', error);\n    }\n  };\n  const handleEditUser = user => {\n    setEditing(true);\n    setCurrentUserId(user.id);\n    setUsername(user.username);\n    setPassword(user.password);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-slate-100 w-60 p-3 flex flex-col text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center gap-2 px-1 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-24 w-24 rounded-full bg-cyan-500 bg-cover bg-no-repeat bg-center\",\n        style: {\n          backgroundImage: 'url(https://source.unsplash.com/80x80?face)'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\",\n          children: \"Evan Huggins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center gap-2 px-1 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-black text-lg\",\n        children: \"Evan Huggins\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 py-8 flex flex-col gap-0.5\",\n      children: DASHBOARD_SIDEBAR_LINKS.map(item => /*#__PURE__*/_jsxDEV(SidebarLink, {\n        item: item\n      }, item.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-0.5 pt-2 border-t border-black-700\",\n      children: DASHBOARD_SIDEBAR_BOTTOM_LINKS.map(item => /*#__PURE__*/_jsxDEV(SidebarLink, {\n        item: item\n      }, item.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 9\n  }, this);\n}\n_s(Sidebar, \"S6syfE7Zd6PqqqjJSHk0sS43usU=\");\n_c = Sidebar;\nfunction SidebarLink({\n  item\n}) {\n  _s2();\n  const {\n    pathname\n  } = useLocation();\n  return /*#__PURE__*/_jsxDEV(Link, {\n    to: item.path,\n    className: classNames(pathname === item.path ? 'bg-cyan-500 text-white' : 'text-black', linkClasses),\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xl\",\n      children: item.icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), item.label]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n_s2(SidebarLink, \"DLzm74WbLrqXx5fm3m0DPqqQIzo=\", false, function () {\n  return [useLocation];\n});\n_c2 = SidebarLink;\nvar _c, _c2;\n$RefreshReg$(_c, \"Sidebar\");\n$RefreshReg$(_c2, \"SidebarLink\");","map":{"version":3,"names":["classNames","React","Link","useLocation","DASHBOARD_SIDEBAR_LINKS","DASHBOARD_SIDEBAR_BOTTOM_LINKS","HiOutlineLogout","axios","jsxDEV","_jsxDEV","linkClasses","Sidebar","_s","users","setUsers","useState","username","setUsername","password","setPassword","editing","setEditing","currentUserId","setCurrentUserId","message","setMessage","useEffect","fetchUsers","response","get","data","error","console","handleSubmit","e","preventDefault","handleUpdateUser","handleCreateUser","post","put","id","handleDeleteUser","delete","handleEditUser","user","className","children","style","backgroundImage","fileName","_jsxFileName","lineNumber","columnNumber","map","item","SidebarLink","key","_c","_s2","pathname","to","path","icon","label","_c2","$RefreshReg$"],"sources":["D:/USTP/2nd Year/2ndSem/Web Systems and Technolgies/Activity/react-js/components-with-routes/src/components/shared/Sidebar.jsx"],"sourcesContent":["import classNames from 'classnames'\r\nimport React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { DASHBOARD_SIDEBAR_LINKS } from '../../lib/consts/navigation'\r\nimport { DASHBOARD_SIDEBAR_BOTTOM_LINKS } from '../../lib/consts/navigation'\r\nimport { HiOutlineLogout } from 'react-icons/hi'\r\nimport axios from 'axios';\r\n\r\nconst linkClasses = 'flex items-center gap-2 font-light px-3 py-2 hover:bg-cyan-300 hover:no-underline active:bg-cyan-500 rounded-sm text-base'\r\n\r\n\r\nexport default function Sidebar() {\r\n    \r\n    const [users, setUsers] = useState([]);\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [editing, setEditing] = useState(false);\r\n    const [currentUserId, setCurrentUserId] = useState(null);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n        const response = await axios.get('http://localhost/my-backend/api.php');\r\n        setUsers(response.data);\r\n        } catch (error) {\r\n        console.error('Error fetching users', error);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (editing) {\r\n        await handleUpdateUser();\r\n        } else {\r\n        await handleCreateUser();\r\n        }\r\n        fetchUsers();\r\n    };\r\n\r\n    const handleCreateUser = async () => {\r\n        try {\r\n        const response = await axios.post('http://localhost/my-backend/api.php', {\r\n            username,\r\n            password\r\n        });\r\n        setMessage(response.data.message);\r\n        } catch (error) {\r\n        setMessage('There was an error saving the user.');\r\n        console.error('There was an error making the request!', error);\r\n        }\r\n    };\r\n\r\n    const handleUpdateUser = async () => {\r\n        try {\r\n        const response = await axios.put('http://localhost/my-backend/api.php', {\r\n            id: currentUserId,\r\n            username,\r\n            password\r\n        });\r\n        setMessage(response.data.message);\r\n        setEditing(false);\r\n        setCurrentUserId(null);\r\n        } catch (error) {\r\n        setMessage('There was an error updating the user.');\r\n        console.error('There was an error making the request!', error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteUser = async (id) => {\r\n        try {\r\n        const response = await axios.delete('http://localhost/my-backend/api.php', {\r\n            data: { id }\r\n        });\r\n        setMessage(response.data.message);\r\n        fetchUsers();\r\n        } catch (error) {\r\n        setMessage('There was an error deleting the user.');\r\n        console.error('There was an error making the request!', error);\r\n        }\r\n    };\r\n\r\n    const handleEditUser = (user) => {\r\n        setEditing(true);\r\n        setCurrentUserId(user.id);\r\n        setUsername(user.username);\r\n        setPassword(user.password);\r\n    };\r\n\r\n\r\n\r\n  return (\r\n    \r\n\r\n        <div className='bg-slate-100 w-60 p-3 flex flex-col text-white'>\r\n            <div className='flex flex-col items-center gap-2 px-1 py-3'>\r\n                <div \r\n                    className=\"h-24 w-24 rounded-full bg-cyan-500 bg-cover bg-no-repeat bg-center\"\r\n                    style={{backgroundImage: 'url(https://source.unsplash.com/80x80?face)'}}>\r\n                    <span className='sr-only'>Evan Huggins</span>\r\n                </div>\r\n            </div>\r\n            <div className='flex flex-col items-center gap-2 px-1 py-3'>\r\n                \r\n                <span className='text-black text-lg'>Evan Huggins</span>\r\n            </div>\r\n            <div className='flex-1 py-8 flex flex-col gap-0.5'>\r\n                {DASHBOARD_SIDEBAR_LINKS.map((item) => (\r\n                    <SidebarLink key={item.key} item={item}/>\r\n                ))}\r\n            </div>\r\n            <div className='flex flex-col gap-0.5 pt-2 border-t border-black-700'>\r\n                {DASHBOARD_SIDEBAR_BOTTOM_LINKS.map((item) => (\r\n                    <SidebarLink key={item.key} item={item}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    \r\n  )\r\n}\r\n\r\nfunction SidebarLink({item}){\r\n    const {pathname} = useLocation()\r\n\r\n    return(\r\n        \r\n        <Link to={item.path} className={classNames(pathname === item.path ? 'bg-cyan-500 text-white' : 'text-black' ,linkClasses)}>\r\n            <span className='text-xl'>{item.icon}</span>\r\n            {item.label}\r\n        </Link>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}